import React, { Component } from 'react';

import AnimateLink from '../components/animateLink.js';

import '../../scss/header.scss';

class Header extends Component {
	constructor(props) {
		super(props);

		this.state = {
	      positionY: window.scrollY,
	      direction: 'down'
	    }
	}

	openNav(){
		document.body.classList.toggle("nav-open");
	}

	componentDidMount() {
		window.addEventListener('scroll', this.handleScroll.bind(this));
	}
	componentWillUnmount() {
		window.removeEventListener('scroll', this.handleScroll.bind(this));
	}

	handleScroll(e) {
		var direction = null;

		if (window.scrollY > this.state.positionY) { 
	      //scrolled up
	      direction = 'up';
	    }
	    else if (window.scrollY < this.state.positionY) { 
	      //scrolled down
	      direction = 'down';
	    }

	    this.setState({positionY: window.scrollY})

	    if (direction !== this.state.direction) {
	      this.toggleHeader(direction, window.scrollY);
	    }	
	}

	toggleHeader(direction, scrollY) {
		if (direction === 'up' && scrollY > 200) { 

	      document.body.classList.add('hide-header');
	      this.setState({direction: direction})
	    }
	    else if (direction === 'down') {
	      document.body.classList.remove('hide-header');
	      this.setState({direction: direction})
	    }
	}

	render() {
	    return (
	    	<div>
	     		 <header>
	      			<div className="container">
			      	<div className="grid grid--spaced">
			      		<div className="col">
			      			<div className="header__burger hide_desktop" onClick={()=> this.openNav()}>
			      				<span></span>
			      				<span></span>
			      				<span></span>
			      			</div>
			      			<nav className="header__nav">
			      				<ul>
			      					<li>
			      						<AnimateLink to="/artworks">Artworks</AnimateLink>
			      					</li>
			      					<li>
			      						<AnimateLink to="/artists">Artists</AnimateLink>
			      					</li>
			      					<li>
			      						<AnimateLink to="/about">About</AnimateLink>
			      					</li>
			      					<li className="hide_desktop">
			      						<AnimateLink to="/news">News</AnimateLink>
			      					</li>
			      				</ul>
			      				<div className="normal_top hide_desktop">
			      					<div className="normal_gap slight">
			      						<span className="alternate_font">Business Inquiries</span><br/>
										<a href="mailto:mailto:info@derive.art" className="hover--red">info@derive.art</a>
			      					</div>
			      					<nav className="nav--center nav--tight">
										<ul>
											<li>
												<a className="hover--red" href="https://instagram.com">
													<svg className="icon" viewBox="0 0 512 512">
											          <path d="m152 511c-30-1-59-7-85-23-33-20-54-51-61-90-4-23-5-47-6-71 0-50 0-101 1-152 0-27 1-54 10-79 17-50 52-80 103-90 23-4 47-5 70-6 51 0 102 0 153 1 27 0 53 1 79 10 50 17 80 52 90 103 4 23 5 47 6 71 0 50 0 101-1 152 0 27-1 54-10 79-17 50-52 80-103 90-23 4-47 5-70 6-24 1-141 0-176-1m314-259c0-20 0-41 0-61-1-19-2-39-4-58-4-43-30-73-72-81-23-4-47-5-70-5-43-1-85-1-128 0-22 0-44 1-66 4-37 6-62 27-72 64-4 11-6 24-6 36-1 46-2 93-2 139 1 30 1 59 4 89 4 43 30 73 72 81 23 4 47 5 70 5 43 1 85 1 128 1 20-1 39-2 59-4 18-2 35-7 50-19 24-19 33-45 34-74 2-39 3-117 3-117m-210 135c-73 0-131-58-131-132 0-73 59-131 133-130 72 0 130 59 129 133 0 71-59 129-131 129m0-46c47 0 85-38 85-85 0-47-38-85-85-85-47 0-85 38-85 85 0 47 38 85 85 85m137-252c17 0 31 13 30 31 0 17-14 31-31 30-17 0-31-14-30-31 0-17 14-30 31-30"/>
											        </svg>
												</a>
											</li>
											<li>
												<a className="hover--red" href="https://facebook.com">
													<svg className="icon" viewBox="0 0 512 512">
											          <path d="m384 3l0 76-45 0c-17 0-28 3-33 10-6 7-9 17-9 31l0 54 84 0-11 85-73 0 0 216-87 0 0-216-73 0 0-85 73 0 0-62c0-36 10-63 29-83 20-19 47-29 80-29 28 0 49 1 65 3z"/>
											        </svg>
												</a>
											</li>
											<li>
												<a className="hover--red" href="https://twitter.com">
													<svg className="icon" viewBox="0 0 20 20"><path d="M19.551 4.208q-.815 1.202-1.956 2.038 0 .082.02.255t.02.255q0 1.589-.469 3.179t-1.426 3.036-2.272 2.567-3.158 1.793-3.963.672q-3.301 0-6.031-1.773.571.041.937.041 2.751 0 4.911-1.671-1.284-.02-2.292-.784T2.456 11.85q.346.082.754.082.55 0 1.039-.163-1.365-.285-2.262-1.365T1.09 7.918v-.041q.774.408 1.773.448-.795-.53-1.263-1.396t-.469-1.864q0-1.019.509-1.997 1.487 1.854 3.596 2.924T9.81 7.184q-.143-.509-.143-.897 0-1.63 1.161-2.781t2.832-1.151q.815 0 1.569.326t1.284.917q1.345-.265 2.506-.958-.428 1.386-1.732 2.18 1.243-.163 2.262-.611z"/></svg>
												</a>
											</li>
										</ul>
									</nav>
			      				</div>
			      			</nav>
			      		</div>
			      		<div className="col">
			      			<nav className="nav--right hide_mobile">
			      				<ul>
			      					<li>
			      						<AnimateLink to="/news">News</AnimateLink>
			      					</li>
			      					<li>
			      						<a href="mailto:info@derive.art">Contact</a>
			      					</li>
			      				</ul>
			      			</nav>
			      		</div>
			      	</div>	
		      	</div>
		      </header>
		      <AnimateLink className="header__logo" to="/">
		  			<svg xmlns="http://www.w3.org/2000/svg" width="179.266" height="46.426" viewBox="0 0 179.266 46.426">
						<g transform="translate(-593 -360.338)">
							<g transform="translate(36.835 -21.576)">
								<path d="M585.639,384.547a25.31,25.31,0,0,0-11.815-2.633H556.165v.9a9.117,9.117,0,0,1,4.623,1.348,4.113,4.113,0,0,1,1.284,3.4v34.161a4.109,4.109,0,0,1-1.284,3.4,9.118,9.118,0,0,1-4.623,1.349v.9h18.686a21.056,21.056,0,0,0,11.269-2.986,19.88,19.88,0,0,0,7.513-8.476,28.72,28.72,0,0,0,2.665-12.682,22.04,22.04,0,0,0-2.793-11.205A18.952,18.952,0,0,0,585.639,384.547Zm4.013,31.015a17.36,17.36,0,0,1-6,7.384,15.215,15.215,0,0,1-8.8,2.633h-4.238a3.874,3.874,0,0,1-4.559-4.559V383.712h6.678a19.816,19.816,0,0,1,10.146,2.5,16.514,16.514,0,0,1,6.614,7.256,25.436,25.436,0,0,1,2.312,11.237A26.059,26.059,0,0,1,589.652,415.561Z" transform="translate(0)"/>
								<path d="M623.6,390.581a5.8,5.8,0,0,0-3.4-.867,6.842,6.842,0,0,0-4.816,1.991,11.567,11.567,0,0,0-3.082,5.586v-7.577h-.9l-7.384,2.7v.9a11.669,11.669,0,0,1,2.312-.321,2.126,2.126,0,0,1,1.894.8,5.4,5.4,0,0,1,.546,2.857V417.9a2.909,2.909,0,0,1-1.252,2.7,10.071,10.071,0,0,1-3.564,1.156v.9h14.961v-.9a15.327,15.327,0,0,1-5.073-1.092A2.815,2.815,0,0,1,612.3,417.9V401.786a11.613,11.613,0,0,1,.867-4.559,8.247,8.247,0,0,1,2.312-3.243,4.737,4.737,0,0,1,3.05-1.188,2.618,2.618,0,0,1,1.284.257,6.858,6.858,0,0,1,1.092.835,4.628,4.628,0,0,0,.9.738,2.17,2.17,0,0,0,1.092.225,1.735,1.735,0,0,0,1.381-.642,2.219,2.219,0,0,0,.546-1.477A2.568,2.568,0,0,0,623.6,390.581Z" transform="translate(28.926 4.722)"/>
								<path d="M628.56,417.646V389.714h-.9l-7.385,2.7v.9a11.67,11.67,0,0,1,2.312-.321,2.126,2.126,0,0,1,1.894.8,5.379,5.379,0,0,1,.546,2.857v21a3.592,3.592,0,0,1-1.059,2.89,7.2,7.2,0,0,1-3.692,1.22v.9h13.1v-.9a7.32,7.32,0,0,1-3.756-1.22A3.591,3.591,0,0,1,628.56,417.646Z" transform="translate(38.808 4.722)"/>
								<path d="M625.528,388.574a2.961,2.961,0,0,0,3.018-3.018,3.031,3.031,0,0,0-.867-2.183,2.87,2.87,0,0,0-2.151-.9,3.158,3.158,0,0,0-2.28.9,2.922,2.922,0,0,0-.931,2.183,2.817,2.817,0,0,0,.931,2.151A3.22,3.22,0,0,0,625.528,388.574Z" transform="translate(40.043 0.339)"/>
								<path d="M652.456,391.213q4.3.193,4.3,2.5a4.117,4.117,0,0,1-.319,1.413l-8.861,22.346-8.542-22.346a4.043,4.043,0,0,1-.319-1.413q0-2.312,4.3-2.5v-.9H630.625v.9q3.145.193,4.557,3.917l10.98,28.125h.9l11.3-28.125q1.541-3.725,4.11-3.917v-.9H652.456Z" transform="translate(45.072 5.085)"/>
								<path d="M676.516,413.729a9.167,9.167,0,0,1-3.114,4.784,7.867,7.867,0,0,1-5.041,1.83,11.059,11.059,0,0,1-9.086-4.078q-3.306-4.079-3.307-10.563,0-1.669.064-2.44h21.126c.042-.385.064-.963.064-1.734a13.571,13.571,0,0,0-1.284-5.908,10.483,10.483,0,0,0-3.692-4.3,10.013,10.013,0,0,0-5.683-1.605,12.961,12.961,0,0,0-7.513,2.247,14.876,14.876,0,0,0-5.1,6.261,21.823,21.823,0,0,0-1.83,9.15,19.328,19.328,0,0,0,1.734,8.316,13.466,13.466,0,0,0,5.008,5.779,13.916,13.916,0,0,0,7.641,2.087,10.39,10.39,0,0,0,7.16-2.665,11.517,11.517,0,0,0,3.692-6.967Zm-17.337-19.521a8.046,8.046,0,0,1,6.357-2.7,7.138,7.138,0,0,1,5.972,2.954,10.874,10.874,0,0,1,1.991,7.449H656.16A14.118,14.118,0,0,1,659.178,394.209Z" transform="translate(58.08 4.722)"/>
								<path d="M606.292,422.9a7.866,7.866,0,0,1-5.041,1.83,11.059,11.059,0,0,1-9.086-4.078q-3.306-4.079-3.307-10.563,0-1.669.064-2.44h21.126c.042-.385.064-.963.064-1.734A13.572,13.572,0,0,0,608.829,400a10.483,10.483,0,0,0-3.692-4.3,10.012,10.012,0,0,0-5.683-1.605,14.056,14.056,0,0,0-3.4.43l6.675-8.616-.01,0c1.323-1.714.713-2.638.713-2.638a1.377,1.377,0,0,0-.547-.56l0,0a1.373,1.373,0,0,0-.74-.233s-1.13-.135-2.068,1.9l-.006,0-.056.13-.018.035-.011.035L595.712,394.6a12.508,12.508,0,0,0-3.771,1.742,14.876,14.876,0,0,0-5.1,6.261,21.825,21.825,0,0,0-1.83,9.15,19.331,19.331,0,0,0,1.734,8.316,13.469,13.469,0,0,0,5.009,5.779,13.916,13.916,0,0,0,7.641,2.087,10.39,10.39,0,0,0,7.16-2.665,11.525,11.525,0,0,0,3.692-6.967l-.835-.193A9.166,9.166,0,0,1,606.292,422.9Zm-14.223-24.3a8.047,8.047,0,0,1,6.357-2.7,7.139,7.139,0,0,1,5.972,2.954,10.884,10.884,0,0,1,1.991,7.449H589.051A14.117,14.117,0,0,1,592.069,398.591Z" transform="translate(17.458 0.339)"/>
							</g>
						</g>
					</svg>
		  		</AnimateLink>
	  		</div>
	    );
  	}
}

export default Header;